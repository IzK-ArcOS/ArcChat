<!DOCTYPE html>
<head>
    <link rel="stylesheet" href="../../../main.css">
    <link rel="stylesheet" href="dashStyling.css">
    <script src="dashScript.js" type="module"></script>
    <script src="settingsLogic.js" type="module"></script>
    <title id="title">ArcChat - Login</title>
</head>
<body style="display: flex;">
    <div id="welcomeScreen">
        <h1>Welcome to ArcChat!</h1>
        <p>Please login with the provided credentials.</p>
        <input type="text" id="username">
        <input type="password" id="password">
        <button id="loginButton">Login</button>
    </div>
    <div id="loggedInDash" style="display: none;">
        <div style="display: flex; justify-content: center; align-items: center; width: 100%; flex-direction: column;" id="welcomeMessage">
            <p>Welcome to ArcChat!</p>
            <p><button id="genDiscChat">General Discussion</button></p>
            <p><button id="fdtDiscChat" disabled="true">FD Discussion</button></p>
            <p><button id="bdtDiscChat" disabled="true">BD Discussion</button></p>
            <p><button id="ssmDiscChat" disabled="true">SSM Discussion</button></p>
            <p><button id="dtDiscChat" disabled="true">Designing Discussion</button></p>
        </div>
    </div>
    <div id="chatWindow" style="position: absolute; display: none;" chatSel="none">
        <div id="chatList">
            <h3> ArcOS Chats </h3>
            <button id="chat1" class="chatButton">General</button>
            <button id="chat2" class="chatButton">Team General</button>
            <button id="chat3" class="chatButton">Test Channel</button>
        </div>
        <div id="chattingBox">
        </div>
        <div id="memberList">
            <h4> Role </h4>
            <div>
                <img>
                <p> Username </p>
                <p> status </p>
            </div>
        </div>
        <div id="userStuff">
            <div class="username" > <h3 id="usernameDisplay"></h3> </div>
            <div class="optionsButtonContainer"> <button id="optionsButton"> ⚙️ </button></div>
        </div>
        <div id="chatBoxElement">
            <div contenteditable name="w3review" style="resize: none; min-height: fit-content; max-height: calc(100% - 20px); overflow-y: scroll;"  rows="1" cols="50" id="chatBox"> </div>
            <button id="sendChat">Send</button>
        </div>
    </div>
    <div id="settings" style=" display: none; gap: 5px;">
        <h1>Working on it! </h1>
        <hr class="seperator">
        <button id="closeSettings"> X </button>
        <h3>User Settings</h3>
        <div class="changeNameField"> <input placeholder="New display name" id="changeNameField"> <button id="submitName"> Change Display Name </button>   </div> <p id="displayNameStatus">Changed display name.</p>
        <div class="newPasswordField"> <input placeholder="Old password" type="password" id="oldPasswordField">  <input type="password" placeholder="New password" id="newPasswordField"> <button id="submitPassword"> Change Password </button> </div> <p id="changePasswordStatus"> Changed password. </p>
        <!--<hr class="seperator">
        <h3> Language settings </h3>
        <p>Currently does nothing. Coming soon. </p>
        <select id="languageSelect">
            <option value="english-gb">English</option>
            <option value="english-gb">Russian (Coming soon)</option>
            <option value="english-gb">Dutch (Coming soon)</option>
            <option value="langtest">LangTest</option>
        </select> <button id="applyLanguage"> Apply </button>-->
        <hr class="seperator">
        <h3>Danger zone</h3>
        <button id="logoutButton"> Logout </button>
    </div>
    <div style="pointer-events: none; display: flex; align-items: normal; justify-content: center; width: 100%; height: 100%; position: absolute;">
        <h1 id="beta" style="font-size: 20pt;-webkit-text-stroke: 1px black; -webkit-text-fill-color: white; position: absolute; stroke: #505050; stroke-width: 5px; stroke-opacity: 1;"><strong>BETA</strong></h1>
    </div>

    <div id="loginError" style="display: none; align-items: center; justify-content: center; flex-direction: column; z-index: 9999999; width: 100%; height: 100%; position: absolute; background-color: #202020;">
        <h1> Important. </h1>
        <p id="errorMsg"> </p>
        <button id="closeError"> Close </button>
        <ReactMarkdown className="idfk" source='{"# i am a potato"}'></ReactMarkdown>
    </div>
    <div id="newServer" style="gap: 5px; display: none; align-items: center; justify-content: center; flex-direction: column; z-index: 9999999; width: 100%; height: 100%; position: absolute; background-color: #202020;">
        
        <h3> Server connection utility. </h3>
        <input style="width: 20%;" id="ipAddress" placeholder="IP Address">
        <div style="width: 20%;">
            <button id="connectToExternal">Connect</button>
            <button id="clearConnectToExternal">Clear</button>
            <button id="cancelConnectToExternal">Cancel</button>
        </div>
        <div></div>
        <small>Cancel if you don't know what you're doing!</small>
    </div>
</body>